<app-modal *ngIf="showModal" 
[title]="'Edit Project'" 
[formGroup]="ProjectForm"
[modalContent]="projectModalTemplate" 
(close)="handleModalClose()" 
(submit)="onSubmit()"></app-modal>

<ng-template #projectModalTemplate>
    <div class="modal-container">
        <form [formGroup]="ProjectForm" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <!-- Project Name -->
                <div class="row align-items-center">
                    <div class="col-md-2">
                        <label for="projectName">Project Name*</label>
                    </div>
                    <div class="col-md-10">
                        <input id="projectName" type="text" formControlName="name" 
                            placeholder="e.g. Linear" required />
                    </div>
                </div>
                
                <!-- Description -->
                <div class="row align-items-center">
                    <div class="col-md-2">
                        <label for="description">Description</label>
                    </div>
                    <div class="col-md-10">
                        <textarea id="description" rows="2" formControlName="description"
                            placeholder="Write about the project..."></textarea>
                    </div>
                </div>

                <div class="divider"></div>
                
                <!-- Dates -->
                <div class="date-container">
                    <div class="row align-items-center">
                        <div class="col-md-2">
                            <label>Start Date</label>
                        </div>
                        <div class="col-md-10">
                            <mat-form-field appearance="outline">
                                <input matInput [matDatepicker]="startDatePicker" 
                                       formControlName="startDate"
                                       (dateChange)="onDateChange1($event)">
                                <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
                                <mat-datepicker #startDatePicker></mat-datepicker>
                            </mat-form-field>
                        </div>
                    </div>

                    <div class="row align-items-center">
                        <div class="col-md-2">
                            <label>Due Date</label>
                        </div>
                        <div class="col-md-10">
                            <mat-form-field appearance="outline">
                                <input matInput [matDatepicker]="endDatePicker" 
                                       formControlName="endDate"
                                       (dateChange)="onDateChange2($event)">
                                <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
                                <mat-datepicker #endDatePicker></mat-datepicker>
                            </mat-form-field>
                        </div>
                    </div>
                </div>

                <div class="divider"></div>
                
                <!-- Status -->
                <div class="row align-items-center">
                    <div class="col-md-2">
                        <label>Status*</label>
                    </div>
                    <div class="col-md-10">
                        <mat-button-toggle-group formControlName="status" aria-label="Project Status" class="w-100">
                            <mat-button-toggle *ngFor="let status of statuses" [value]="status.value">
                                <img [src]="status.icon" [alt]="status.label" class="status-icon">
                                {{ status.label }}
                            </mat-button-toggle>
                        </mat-button-toggle-group>
                    </div>
                </div>
                
                <!-- Priority -->
                <div class="row align-items-center">
                    <div class="col-md-2">
                        <label>Priority*</label>
                    </div>
                    <div class="col-md-10">
                        <mat-button-toggle-group formControlName="priority" aria-label="Project Priority">
                            <mat-button-toggle *ngFor="let priority of Priorities" [value]="priority.value">
                                <img [src]="priority.icon" [alt]="priority.label" class="priority-icon">
                                {{ priority.label }}
                            </mat-button-toggle>
                        </mat-button-toggle-group>
                    </div>
                </div>
            </div>
        </form>
    </div>
</ng-template>


<!-- <div class="modal-container"> -->
    <!-- Header -->
    <!-- <div class="modal-header d-flex justify-content-between align-items-start">
        <h2>Create Project</h2>
        <button class="close-btn" (click)="close()">&#x2715;</button>
    </div> -->

    <!-- <div class="divider"></div> -->
    <!-- Form -->
    <!-- <form [formGroup]="ProjectForm" (ngSubmit)="sendData()" (submit)="onSubmit($event)">
        <div class="form-group"> -->
            <!-- Project Name -->
            <!-- <div class="row align-items-center">
                <div class="col-md-2">
                    <label for="Project Name">Project Name*</label>
                </div>
                <div class="col-md-10">
                    <input id="Project Name" type="text" formControlName="name" placeholder="e.g. Linear" required />
                </div>
            </div> -->
            <!-- Description -->
            <!-- <div class="row  align-items-center">
                <div class="col-md-2">
                    <label for="description">Description</label>
                </div>
                <div class="col-md-10">
                    <textarea id="description" rows="2" formControlName="description"
                        placeholder="Write a few sentences about the Project ..."></textarea>
                </div>
            </div> -->

            <!-- <div class="divider"></div> -->
            <!-- Dates -->
            <!-- <div class="date-container">
                <div class="row justify-content-center align-items-center">
                    <div class="col-md-2">
                        <label for="startDate">Start Date</label>
                    </div>
                    <div class="col-md-10">
                        <mat-form-field appearance="outline" class="custom-date-picker">
                            <mat-icon matPrefix class="custom-calendar-icon" (click)="picker1.open()"><img
                                    src="assets/images/uil_calender.svg" alt=""></mat-icon>
                            <input (dateChange)="onDateChange1($event)" matInput [matDatepicker]="picker1" placeholder="Select Date" formControlName="startDate">
                            <mat-datepicker #picker1></mat-datepicker>
                        </mat-form-field>
                    </div>
                </div>

                <div class="row justify-content-center align-items-center">
                    <div class="col-md-2">
                        <label for="DueDate">Due Date</label>
                    </div>
                    <div class="col-md-10">
                        <mat-form-field appearance="outline" class="custom-date-picker">
                            <mat-icon matPrefix class="custom-calendar-icon" (click)="picker2.open()"><img
                                    src="assets/images/uil_calender.svg" alt=""></mat-icon>
                            <input (dateChange)="onDateChange2($event)" matInput [matDatepicker]="picker2" placeholder="Select Date" formControlName="endDate">
                            <mat-datepicker #picker2></mat-datepicker>
                        </mat-form-field>
                    </div>
                </div>
            </div> -->

            <!-- <div class="divider"></div> -->
            <!-- Status -->
            <!-- <div class="row align-items-center">
                <div class="col-md-2">
                    <label for="issue-type">Status*</label>
                </div>
                <div class="col-md-10">
                    <mat-button-toggle-group [(ngModel)]="selectedStatus" aria-label="Issue Status" class="w-100" formControlName="status">
                        <mat-button-toggle *ngFor="let status of statuses" [value]="status.value">
                            <img [src]="status.icon" alt="{{ status.label }} Icon" class="status-icon" />
                            {{ status.label }}
                        </mat-button-toggle>
                    </mat-button-toggle-group>
                </div>
            </div> -->
            <!-- Priority -->
            <!-- <div class="row align-items-center">
                <div class="col-md-2">
                    <label for="issue-type">Priority*</label>
                </div>
                <div class="col-md-10">
                    <mat-button-toggle-group [(ngModel)]="selectedPriority" aria-label="Project Priority" formControlName="priority">
                        <mat-button-toggle *ngFor="let priority of Priorities" [value]="priority.value"
                            [class]="priority.value">
                            <img [src]="priority.icon" alt="{{ priority.label }} Icon" class="priority-icon" />
                            {{ priority.label }}
                        </mat-button-toggle>
                    </mat-button-toggle-group>
                </div>
            </div>
            <div class="divider"></div>
        </div> -->
        <!-- Footer Buttons -->
        <!-- <div class="modal-footer">
            <div class="buttons w-100 d-flex justify-content-center align-items-center gap-3">
                <button mat-button type="button" class="cancel-btn w-50 fw-semibold" (click)="close()">Cancel</button>
                <button mat-flat-button type="submit" [disabled]="ProjectForm.invalid"
                    class="confirm-btn w-50 fw-semibold">Confirm</button>
            </div>
        </div>
    </form>
</div> -->
