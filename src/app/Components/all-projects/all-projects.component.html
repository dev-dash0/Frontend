<div class="my-4 min-vh-100">
  <div class="BG" [ngClass]="{ expand: isSidebarCollapsed }">

    <!-- ðŸ”¹ Header -->
    <header>
      <div class="header">
        <img src="assets/images/sidebar icons/Group of Projects.svg" alt="Projects Icon" />
        <h2>Your Projects</h2>
      </div>

      <!-- ðŸ”˜ Join Project Button -->
      <span class="btn join-btn" (click)="join()">
        <a class="custom-btn text-center btn">
          <img src="assets/images/sidebar icons/Plus.svg" class="pe-2" alt="Plus Icon" />
          Join Project
        </a>
      </span>
    </header>

    <!-- ðŸ—‚ï¸ Tabbed Sections -->
    <mat-tab-group>

      <!-- ðŸ”¹ Owned Projects Tab -->
      <mat-tab label="Owned Projects">
        <div class="card1">

          <!-- ðŸ”„ Loading State -->
          <app-dashboard-loader
            [ngStyle]="{ 'align-self': 'center', padding: '200px' }"
            *ngIf="loading"
          ></app-dashboard-loader>

          <!-- âœ… Loaded Projects -->
          <div class="container" *ngIf="!loading">
            <div class="row g-3">
              <div class="col-md-6" *ngFor="let project of ownedProjects">
                <app-all-projects-card
                  [project]="project"
                  [company]="project.tenant"
                  (projectSelected)="viewProject($event)"
                ></app-all-projects-card>
              </div>
            </div>
          </div>
        </div>
      </mat-tab>

      <!-- ðŸ”¹ Joined Projects Tab -->
      <mat-tab label="Joined Projects">
        <div class="card1">

          <!-- ðŸ”„ Loading State -->
          <app-dashboard-loader
            [ngStyle]="{ 'align-self': 'center', padding: '200px' }"
            *ngIf="loading"
          ></app-dashboard-loader>

          <!-- âœ… Loaded Projects -->
          <div class="container" *ngIf="!loading">
            <div class="row g-3">
              <div class="col-md-6" *ngFor="let project of joinedProjects">
                <app-all-projects-card
                  [project]="project"
                  [company]="project.tenant"
                  (projectSelected)="viewProject($event)"
                ></app-all-projects-card>
              </div>
            </div>
          </div>
        </div>
      </mat-tab>

    </mat-tab-group>
  </div>
</div>
